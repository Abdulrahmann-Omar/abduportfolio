class a{constructor(t){this.canvas=document.getElementById(t),this.canvas&&(this.ctx=this.canvas.getContext("2d"),this.characters="01",this.fontSize=14,this.drops=[],this.animationId=null,this.resizeHandler=()=>this.init(),window.addEventListener("resize",this.resizeHandler),this.init())}init(){!this.canvas||!this.ctx||(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.columns=Math.floor(this.canvas.width/this.fontSize),this.drops=Array(this.columns).fill(1),this.animationId||this.animate())}draw(){if(this.ctx){this.ctx.fillStyle="rgba(0, 0, 0, 0.05)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="#0f0",this.ctx.font=`${this.fontSize}px 'Fira Code', monospace`;for(let t=0;t<this.drops.length;t++){const e=this.characters.charAt(Math.floor(Math.random()*this.characters.length)),n=t*this.fontSize,s=this.drops[t]*this.fontSize;this.ctx.fillText(e,n,s),s>this.canvas.height&&Math.random()>.975&&(this.drops[t]=0),this.drops[t]++}}}animate(){this.draw(),this.animationId=requestAnimationFrame(()=>this.animate())}destroy(){cancelAnimationFrame(this.animationId),window.removeEventListener("resize",this.resizeHandler)}}document.addEventListener("astro:page-load",()=>{const i=new a("matrix-canvas");window.matrixEffect=i});window.addEventListener("beforeunload",()=>{window.matrixEffect&&window.matrixEffect.destroy()});
